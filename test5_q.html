<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"> -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="test5.css">
    </head>
    <body>
        <div class="grid">
           <h1>ğŸ˜‹ë”ë” ì •í™•í•´ì§„ ìŒì‹ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ğŸ•</h1>
           <div id="quiz">
              <p id="question"></p>

              <div class="buttons">
                 <button class="btn"></button>
                 <button class="btn"></button>
              </div>

              <footer>
                 <p id="progress">ì§„í–‰ ì •ë³´</p>
              </footer>
           </div>
        </div>
    </body>
    <script>
        // ë¬¸ì œ ê°ì²´(ìƒì„±ì í•¨ìˆ˜)
        function Question(text, choice, answer) {
           this.text = text; // ì§ˆë¬¸ í…ìŠ¤íŠ¸
           this.choice = choice; // ì„ íƒí•  ë‹µë“¤(ë°°ì—´)
           this.answer = answer; // ì •ë‹µ ì •ë³´
        }

        // í€´ì¦ˆ ì •ë³´ ê°ì²´
        function Quiz(questions) {
           this.typeA = 0; // ì ìˆ˜
           this.typeB = 0; // ì ìˆ˜
           this.questions = questions; // ë¬¸ì œ
           this.questionIndex = 0; // ë¬¸ì œ ë²ˆí˜¸
        }

        var questions = [
           new Question('ë‹¤ìŒ ì¤‘ ë” ì¢‹ì•„í•˜ëŠ” ê²ƒì€?', ['ë”°ëœ»í•œ ì•„ë©”ë¦¬ì¹´ë…¸', 'ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸'], ['A','B']),
           new Question('ë‹¤ìŒ ì¤‘ ë” ì¢‹ì•„í•˜ëŠ” ê²ƒì€?', ['ëœ¨ëˆí•œ ë¼ë©´', 'ì‹œì›í•œ ë¹„ë¹”ë©´'], ['A','B']),
           new Question('ë‹¤ìŒ ì¤‘ ë” ì¢‹ì•„í•˜ëŠ” ê²ƒì€?', ['ì–¼í°í•œ ë§¤ìš´íƒ•', 'ì–¼ìŒ ë™ë™ ë¬¼íšŒ'], ['A','B']),

        ];

        // í€´ì¦ˆ ê°ì²´ ìƒì„±
        var quiz = new Quiz(questions);

        // ë¬¸ì œ ì¶œë ¥ í•¨ìˆ˜
        function updateQuiz() {
           var question = document.getElementById('question');
           var idx = quiz.questionIndex + 1;
           var choice = document.querySelectorAll('.btn');

           // ë¬¸ì œ ì¶œë ¥
           question.innerHTML = 'ë¬¸ì œ' + idx + ') ' + quiz.questions[quiz.questionIndex].text;

           // ì„ íƒì§€ ì¶œë ¥
           for (var i = 0; i < 2; i++) {
              choice[i].innerHTML = quiz.questions[quiz.questionIndex].choice[i];
              choice[i].value = quiz.questions[quiz.questionIndex].answer[i];
           }

           progress();
        }

        function progress() {
           var progress = document.getElementById('progress');
           progress.innerHTML = 'ë¬¸ì œ ' + (quiz.questionIndex + 1) + '/ ' + quiz.questions.length;
        }

        var btn = document.querySelectorAll('.btn');

        // ì…ë ¥ ë° ì •ë‹µ í™•ì¸ í•¨ìˆ˜
        function checkAnswer(i) {
           btn[i].addEventListener('click', function() {
              var answer = btn[i].value;

              if (answer == "A") {
                 quiz.typeA++;
              } else if(answer == "B") {
                 quiz.typeB++;
              }

              if (quiz.questionIndex < quiz.questions.length - 1) {
                 quiz.questionIndex++;
                 updateQuiz();
              } else {
                 result();
              }
           });
        }

    function result() {
       var quizDiv = document.getElementById('quiz');
       var calcType = Math.max(quiz.typeA, quiz.typeB);
       var type = "";

       if(quiz.typeA == calcType) {
           location.href="test5_a1.html";
       }
       if(quiz.typeB == calcType) {
           location.href="test5_a2.html";
       }


       // var txt = '<h3>ê²°ê³¼</h3>' + '<h2 id="score">ë‹¹ì‹ ì€ ' + type + ' ì‚¬ëŒì´êµ°ìš”!</h2>';

       quizDiv.innerHTML = txt;


    }

    for (var i = 0; i < btn.length; i++) {
       checkAnswer(i);
    }

    updateQuiz();


    </script>
</html>
